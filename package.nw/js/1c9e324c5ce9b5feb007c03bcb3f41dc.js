;!function(require, directRequire){;"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const zlib=require("zlib"),remote_static_1=require('./7a983d175ae5bf313342dd02835b3807.js'),config_1=require('./a148d3a11fd5268109e21fb40c9d527b.js'),utils_1=require('./46d7303eb986fa402d60bf5e929aa077.js'),log_1=require('./56a764ae9cb4336bf6babe1c1da0275b.js'),log=log_1.default("[proto]");let _statistics;function commentForResponseType(a){return config_1.ResponseType[a]||config_1.ClientRequestType[a]||"<unknown>"}function requestCmdForType(a){return a===config_1.RequestType.Login?config_1.RequestCmd.Login:a===config_1.RequestType.EventNotifyBegin?config_1.RequestCmd.EventNotifyBegin:a===config_1.RequestType.EventNotifyBlock?config_1.RequestCmd.EventNotifyBlock:a===config_1.RequestType.EventNotifyEnd?config_1.RequestCmd.EventNotifyEnd:a===config_1.RequestType.Heartbeat?config_1.RequestCmd.Heartbeat:a===config_1.RequestType.JoinRoom?config_1.RequestCmd.JoinRoom:a===config_1.RequestType.MessageNotifyParallelly?config_1.RequestCmd.MessageNotifyParallelly:a===config_1.RequestType.MessageNotify?config_1.RequestCmd.MessageNotify:a===config_1.RequestType.QuitRoom?config_1.RequestCmd.QuitRoom:a===config_1.RequestType.SendDebugMessage?config_1.RequestCmd.SendDebugMessage:a===config_1.RequestType.SyncMessage?config_1.RequestCmd.SyncMessage:a===config_1.RequestType.SendDebugMessageParallelly?config_1.RequestCmd.SendDebugMessageParallelly:config_1.RequestCmd.Unknown}exports.requestCmdForType=requestCmdForType;function clientRequestCmdForType(a){return a===config_1.ClientResponseType.Login?config_1.ClientRequestCmd.Login:a===config_1.ClientResponseType.EventNotifyBegin?config_1.ClientRequestCmd.EventNotifyBegin:a===config_1.ClientResponseType.EventNotifyBlock?config_1.ClientRequestCmd.EventNotifyBlock:a===config_1.ClientResponseType.EventNotifyEnd?config_1.ClientRequestCmd.EventNotifyEnd:a===config_1.ClientResponseType.Heartbeat?config_1.ClientRequestCmd.Heartbeat:a===config_1.ClientResponseType.JoinRoom?config_1.ClientRequestCmd.JoinRoom:a===config_1.ClientResponseType.MessageNotifyParallelly?config_1.ClientRequestCmd.MessageNotifyParallelly:a===config_1.ClientResponseType.MessageNotify?config_1.ClientRequestCmd.MessageNotify:a===config_1.ClientResponseType.QuitRoom?config_1.ClientRequestCmd.QuitRoom:a===config_1.ClientResponseType.SendDebugMessage?config_1.ClientRequestCmd.SendDebugMessage:a===config_1.ClientResponseType.SyncMessage?config_1.ClientRequestCmd.SyncMessage:a===config_1.ClientResponseType.SendDebugMessageParallelly?config_1.ClientRequestCmd.SendDebugMessageParallelly:config_1.ClientRequestCmd.Unknown}exports.clientRequestCmdForType=clientRequestCmdForType;function wrapDebugMessageData(a,b,c=0){let d=null;switch(b){case config_1.DebugMessageCategory.CallInterface:{const b=a,c={objName:b.name,methodName:b.method,methodArgList:b.args.map((a)=>a+""),callId:b.call_id},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_CallInterface.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid callInterfaceObject obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_CallInterface.encode(c).finish();break}case config_1.DebugMessageCategory.EvaluateJavascriptResult:{const b=a,c={ret:b.ret,evaluateId:b.evaluate_id},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid EvaluateJavascriptResult obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.encode(c).finish();break}case config_1.DebugMessageCategory.Ping:{const b=a,c={pingId:b.ping_id,payload:b.payload},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_Ping.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid Ping obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_Ping.encode(c).finish();break}case config_1.DebugMessageCategory.Breakpoint:{const b={isHit:!!a.is_hit},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_Breakpoint.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid Breakpoint obj",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_Breakpoint.encode(b).finish();break}case config_1.DebugMessageCategory.DomOp:{const b=a,c={params:b.params,webviewId:b.webview_id},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomOp.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid DomOp obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomOp.encode(c).finish();break}case config_1.DebugMessageCategory.DomEvent:{const b=a,c={params:b.params,webviewId:b.webview_id},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomEvent.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid DomOp obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomEvent.encode(c).finish();break}case config_1.DebugMessageCategory.ChromeDevtools:{const b=a,c={opId:b.op_id,payload:b.payload,jscontextId:b.jscontext_id},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_ChromeDevtools.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid chrome devtools object",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_ChromeDevtools.encode(c).finish();break}case config_1.DebugMessageCategory.ConnectJsContext:{const b={jscontextId:a.jscontext_id},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_ConnectJsContext.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid connect js context object",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_ConnectJsContext.encode(b).finish();break}default:throw log.e("invalid debug message category",b),new Error("invalid debug message category "+b);}let e=0;if(d&&c&&0!=(c&config_1.CompressAlgo.Zlib)){Date.now();e=d.byteLength,d=zlib.deflateSync(uint8ArrayToBuffer(d)),d=bufferToUint8Array(d),_statistics.compressionSavedBytes+=e-d.byteLength}return{buffer:d,originalSize:e}}function wrapDebugMessageList(a){return a.map((a)=>{const b=wrapDebugMessageData(a.data,a.category,a.compress_algo);return{seq:a.seq,delay:a.delay,category:a.category,data:b.buffer,compressAlgo:a.compress_algo,originalSize:b.originalSize}})}function wrapOutgoingToProto(a,b,c){let d=null;switch(b){case config_1.RequestType.Login:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},newticket:b.newticket},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevLoginReq.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid login request obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevLoginReq.encode(c).finish();break}case config_1.RequestType.JoinRoom:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},appid:b.appid,roomId:b.room_id,wxpkgInfo:b.wxpkg_info},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevJoinRoomReq.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid join room request obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevJoinRoomReq.encode(c).finish();break}case config_1.RequestType.Heartbeat:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevHeartBeatReq.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid heartbeat request obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevHeartBeatReq.encode(c).finish();break}case config_1.RequestType.SendDebugMessageParallelly:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack,debugMessageList:wrapDebugMessageList(b.debug_message)},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid SendDebugMessageParallelly request obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.encode(c).finish();break}case config_1.RequestType.SendDebugMessage:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},recvAck:b.recv_ack,debugMessageList:wrapDebugMessageList(b.debug_message)},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_SendDebugMessageReq.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid SendDebugMessage request obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_SendDebugMessageReq.encode(c).finish();break}case config_1.RequestType.QuitRoom:{const b={baseRequest:{clientVersion:a.base_request.clientversion}},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevQuitRoomReq.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid QuitRoom request obj",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevQuitRoomReq.encode(b).finish();break}case config_1.RequestType.SyncMessage:{const b=a,c={baseRequest:{clientVersion:b.base_request.clientversion},minSeq:b.min_seq};"number"==typeof b.max_seq&&(c.maxSeq=b.max_seq);const e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevSyncMessageReq.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid SyncMessage request obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevSyncMessageReq.encode(c).finish();break}default:throw log.e("error wrapping outgoing object, invalid type",b),new Error("error wrapping outgoing object, invalid type "+b);}const e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DataFormat.create({cmd:requestCmdForType(b),uuid:c,data:d});return remote_static_1.mmbizwxadevremote.WARemoteDebug_DataFormat.encode(e).finish()}exports.wrapOutgoingToProto=wrapOutgoingToProto;function unwrapDebugMessageData(a){const b="string"==typeof a.data?Buffer.from(a.data):a.data;let c=b,d=0;if(b&&a.compressAlgo&&0!=(a.compressAlgo&config_1.CompressAlgo.Zlib)){Date.now();d=c.byteLength,c=zlib.inflateSync(b),_statistics.compressionSavedBytes+=c.byteLength-d}let e=null;const f=a.category;if(c)switch(a.category){case config_1.DebugMessageCategory.Breakpoint:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_Breakpoint.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_Breakpoint.toObject(a);e={is_hit:b.isHit?1:0};break}case config_1.DebugMessageCategory.CallInterface:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_CallInterface.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_CallInterface.toObject(a);e={name:b.objName,method:b.methodName,args:b.methodArgList,call_id:b.callId};break}case config_1.DebugMessageCategory.CallInterfaceResult:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_CallInterfaceResult.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_CallInterfaceResult.toObject(a);e={ret:b.ret,call_id:b.callId,debug_info:b.debugInfo};break}case config_1.DebugMessageCategory.EvaluateJavascript:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_EvaluateJavascript.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_EvaluateJavascript.toObject(a);e={script:b.script,evaluate_id:b.evaluateId,debug_info:b.debugInfo};break}case config_1.DebugMessageCategory.EvaluateJavascriptResult:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_EvaluateJavascriptResult.toObject(a);e={ret:b.ret,evaluate_id:b.evaluateId};break}case config_1.DebugMessageCategory.Ping:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_Ping.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_Ping.toObject(a);e={ping_id:b.pingId,payload:b.payload};break}case config_1.DebugMessageCategory.Pong:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_Pong.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_Pong.toObject(a,{longs:Number});e={ping_id:b.pingId,network_type:b.networkType,payload:b.payload};break}case config_1.DebugMessageCategory.SetupContext:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_SetupContext.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_SetupContext.toObject(a);e={register_interface:{obj_name:(b.registerInterface||{}).objName,obj_methods:((b.registerInterface||{}).objMethodList||[]).map((a)=>{return{method_name:a.methodName,method_args:a.methodArgList}})},configure_js:b.configureJs,public_js_md5:b.publicJsMd5,three_js_md5:b.threeJsMd5,device_info:{device_name:(b.deviceInfo||{}).deviceName,device_model:(b.deviceInfo||{}).deviceModel,os:(b.deviceInfo||{}).systemVersion,wechat_version:(b.deviceInfo||{}).wechatVersion,pixel_ratio:(b.deviceInfo||{}).pixelRatio,screen_width:(b.deviceInfo||{}).screenWidth,publib:(b.deviceInfo||{}).publibVersion,user_agent:(b.deviceInfo||{}).userAgent},support_compress_algo:b.supportCompressAlgo};break}case config_1.DebugMessageCategory.DomOp:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomOp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomOp.toObject(a);e={params:b.params,webview_id:b.webviewId};break}case config_1.DebugMessageCategory.DomEvent:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomEvent.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DomEvent.toObject(a);e={params:b.params,webview_id:b.webviewId};break}case config_1.DebugMessageCategory.NetworkDebugAPI:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_NetworkDebugAPI.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_NetworkDebugAPI.toObject(a);e={api_name:b.apiName,task_id:b.taskId,request_headers:b.requestHeaders,timestamp:b.timestamp};break}case config_1.DebugMessageCategory.ChromeDevtools:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_ChromeDevtools.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_ChromeDevtools.toObject(a);e={op_id:b.opId,payload:b.payload,jscontext_id:b.jscontextId};break}case config_1.DebugMessageCategory.ChromeDevtoolsResult:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_ChromeDevtoolsResult.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_ChromeDevtoolsResult.toObject(a);e={op_id:b.opId,payload:b.payload,jscontext_id:b.jscontextId};break}case config_1.DebugMessageCategory.AddJsContext:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_AddJsContext.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_AddJsContext.toObject(a);e={jscontext_id:b.jscontextId,jscontext_name:b.jscontextName};break}case config_1.DebugMessageCategory.RemoveJsContext:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_RemoveJsContext.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_RemoveJsContext.toObject(a);e={jscontext_id:b.jscontextId};break}case config_1.DebugMessageCategory.ConnectJsContext:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_ConnectJsContext.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_ConnectJsContext.toObject(a);e={jscontext_id:b.jscontextId};break}default:{log.e("invalid debug object category"),e=null;break}}else e=null;return{seq:a.seq||0,delay:a.after||0,category:f||config_1.DebugMessageCategory.Ping,data:e||{},compress_algo:a.compressAlgo||0,original_size:a.originalSize||d}}function unwrapProtoToDataFormat(a){const b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DataFormat.decode(a),c="string"==typeof b.data?Buffer.from(b.data):b.data;let d=null;switch(b.cmd){case config_1.ResponseType.Heartbeat:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevHeartBeatResp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevHeartBeatResp.toObject(a);d={base_response:b.baseResponse};break}case config_1.ResponseType.Login:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevLoginResp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevLoginResp.toObject(a);d={base_response:b.baseResponse,room_info:{join_room:(b.roomInfo||{}).joinRoom,original_md5:(b.roomInfo||{}).originalMd5,room_status:(b.roomInfo||{}).roomStatus,wx_conn_status:(b.roomInfo||{}).wxConnStatus,dev_conn_status:(b.roomInfo||{}).devConnStatus,room_id:(b.roomInfo||{}).roomId}};break}case config_1.ResponseType.EventNotifyEnd:case config_1.ResponseType.EventNotifyBlock:case config_1.ResponseType.EventNotifyBegin:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_EventNotify.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_EventNotify.toObject(a);d={base_response:Object.assign({},b.baseResponse||{})};break}case config_1.ResponseType.JoinRoom:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevJoinRoomResp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevJoinRoomResp.toObject(a);d={base_response:b.baseResponse};break}case config_1.ResponseType.MessageNotifyParallelly:case config_1.ResponseType.MessageNotify:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_MessageNotify.decode(c),b=a.debugMessageList,e=[];for(const a of b)e.push(unwrapDebugMessageData(a));d={debug_message:e};break}case config_1.ResponseType.QuitRoom:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevQuitRoomResp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevQuitRoomResp.toObject(a);d={base_response:b.baseResponse};break}case config_1.ResponseType.SendDebugMessageParallelly:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.toObject(a);d={base_response:b.baseResponse,max_ack:b.maxAck,min_ack:b.minAck};break}case config_1.ResponseType.SendDebugMessage:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_SendDebugMessageResp.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_SendDebugMessageResp.toObject(a);d={base_response:b.baseResponse,send_ack:b.sendAck};break}case config_1.ResponseType.SyncMessage:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_DevSyncMessageResp.decode(c),b=a.debugMessageList,e=[];for(const a of b)e.push(unwrapDebugMessageData(a));d={debug_message:e,send_ack:a.sendAck,base_response:a.baseResponse};break}default:{log.e("error receive invalid cmd",b.cmd),d={};break}}const e={cmd:b.cmd,uuid:b.uuid,data:d,_comment:commentForResponseType(b.cmd)};return e}exports.unwrapProtoToDataFormat=unwrapProtoToDataFormat;function uint8ArrayToBuffer(a){let b=Buffer.from(a.buffer);return a.byteLength!==a.buffer.byteLength&&(b=b.slice(a.byteOffset,a.byteOffset+a.byteLength)),b}exports.uint8ArrayToBuffer=uint8ArrayToBuffer;function bufferToUint8Array(b){if(!b)throw new Error("invalid buffer "+b);if("Uint8Array"===b.constructor.name||b.constructor===Uint8Array)return b;"string"==typeof b&&(b=Buffer.from(b));const c=new Uint8Array(b.length);for(let a=0;a<b.length;a++)c[a]=b[a];return c}exports.bufferToUint8Array=bufferToUint8Array;function unwrapClientProtoToDataFormat(a){const b=remote_static_1.mmbizwxadevremote.WARemoteDebug_DataFormat.decode(a),c="string"==typeof b.data?Buffer.from(b.data):b.data;let d=null;switch(b.cmd){case config_1.ClientRequestCmd.Login:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxLoginReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxLoginReq.toObject(a);d={base_request:{clientversion:b.baseRequest},loginticket:b.loginTicket};break}case config_1.ClientRequestCmd.Heartbeat:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxHeartBeatReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxHeartBeatReq.toObject(a);d={base_request:{clientversion:b.baseRequest},recv_ack:b.recvAck};break}case config_1.ClientRequestCmd.JoinRoom:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.toObject(a);d={base_request:{clientversion:b.baseRequest},wxpkg_info:b.wxpkgInfo,username:b.username,room_id:b.roomId};break}case config_1.ClientRequestCmd.JoinRoom:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxJoinRoomReq.toObject(a);d={base_request:{clientversion:b.baseRequest},wxpkg_info:b.wxpkgInfo,username:b.username,room_id:b.roomId};break}case config_1.ClientRequestCmd.QuitRoom:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxQuitRoomReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxQuitRoomReq.toObject(a);d={base_request:{clientversion:b.baseRequest}};break}case config_1.ClientRequestCmd.SendDebugMessageParallelly:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageReq.toObject(a);d={base_request:{clientversion:b.baseRequest},debug_message:(b.debugMessageList||[]).map((a)=>unwrapDebugMessageData(a)),recv_ack:b.recvAck};break}case config_1.ClientRequestCmd.SyncMessage:{const a=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxSyncMessageReq.decode(c),b=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxSyncMessageReq.toObject(a);d={base_request:{clientversion:b.baseRequest},min_seq:b.minSeq,max_seq:b.maxSeq};break}default:{log.e("error receive invalid cmd",b.cmd),d={};break}}const e={cmd:b.cmd,uuid:b.uuid,data:d,_comment:commentForResponseType(b.cmd)};return e}exports.unwrapClientProtoToDataFormat=unwrapClientProtoToDataFormat;function wrapClientResponseDataFormatToProto(a,b,c){let d=null;switch(b){case config_1.ClientResponseType.Login:{const b=a,c={baseResponse:{errcode:(b.base_response||{}).errcode,errmsg:(b.base_response||{}).errmsg},roomInfo:{joinRoom:(b.room_info||{}).join_room,originalMd5:(b.room_info||{}).original_md5,roomStatus:(b.room_info||{}).room_status,wxConnStatus:(b.room_info||{}).wx_conn_status,devConnStatus:(b.room_info||{}).dev_conn_status,roomId:(b.room_info||{}).room_id}},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxLoginResp.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid client login response obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxLoginResp.encode(c).finish();break}case config_1.ClientResponseType.JoinRoom:{const b={baseResponse:a.base_response},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxJoinRoomResp.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid client join room response obj",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxJoinRoomResp.encode(b).finish();break}case config_1.ClientResponseType.Heartbeat:{const b={baseResponse:a.base_response},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxHeartBeatResp.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid client heartbeat response obj",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxHeartBeatResp.encode(b).finish();break}case config_1.ClientResponseType.SendDebugMessageParallelly:{const b=a,c={baseResponse:b.base_response,maxAck:b.max_ack,minAck:b.min_ack},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid client SendDebugMessageParallelly response obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_NewSendDebugMessageResp.encode(c).finish();break}case config_1.ClientResponseType.QuitRoom:{const b={baseResponse:a.base_response},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxQuitRoomResp.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid client QuitRoom response obj",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxQuitRoomResp.encode(b).finish();break}case config_1.ClientResponseType.SyncMessage:{const b=a,c={baseResponse:b.base_response,debugMessageList:wrapDebugMessageList(b.debug_message),sendAck:b.send_ack},e=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxSyncMessageResp.verify(c);utils_1.expect(!!e,log).toBe(!1).fail(()=>{throw log.e("invalid client sync message response obj",e),e}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_WxSyncMessageResp.encode(c).finish();break}case config_1.ClientResponseType.MessageNotifyParallelly:{const b={debugMessageList:wrapDebugMessageList(a.debug_message)},c=remote_static_1.mmbizwxadevremote.WARemoteDebug_MessageNotify.verify(b);utils_1.expect(!!c,log).toBe(!1).fail(()=>{throw log.e("invalid client MessageNotifyParallelly response obj",c),c}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_MessageNotify.encode(b).finish();break}case config_1.ClientResponseType.EventNotifyEnd:case config_1.ClientResponseType.EventNotifyBlock:case config_1.ClientResponseType.EventNotifyBegin:{const a={},b=remote_static_1.mmbizwxadevremote.WARemoteDebug_EventNotify.verify(a);utils_1.expect(!!b,log).toBe(!1).fail(()=>{throw log.e("invalid client ClientEventNotify response obj",b),b}),d=remote_static_1.mmbizwxadevremote.WARemoteDebug_EventNotify.encode(a).finish();break}default:throw log.e("error wrapping outgoing object, invalid type",b),new Error("error wrapping outgoing object, invalid type "+b);}const e=remote_static_1.mmbizwxadevremote.WARemoteDebug_DataFormat.create({cmd:clientRequestCmdForType(b),uuid:c,data:d});return remote_static_1.mmbizwxadevremote.WARemoteDebug_DataFormat.encode(e).finish()}exports.wrapClientResponseDataFormatToProto=wrapClientResponseDataFormatToProto,exports.model={resetStatistics(){_statistics={compressionSavedBytes:0}},getCompressionSavedBytes(){return _statistics.compressionSavedBytes||0}},exports.model.resetStatistics();
;}(require("lazyload"), require);
