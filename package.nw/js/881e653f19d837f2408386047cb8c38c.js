'use strict';!function(require,directRequire){function a(a){const{data:b}=a;switch(b.type){case c.EVENT_HEARTBEAT:{b.id===j&&i.postMessage({type:c.EVENT_HEARTBEAT,id:j});break}case c.COMMAND_DEV_WINDOW_CLOSE:{b.id===global.devInfo.projectid&&(b.withConfirm?d.dispatch(e.closeProjectWithConfirm()):d.dispatch(e.closeProject()));break}case c.EVENT_IDE_WILL_BE_QUIT:{d.dispatch(e.confirmBeforeIdeQuit(b.delay,()=>{i.postMessage({type:c.EVENT_DEV_WINDOW_BLOCKED_IDE_QUIT})}));break}case c.EVENT_IDE_CANCELED_QUIT:{d.dispatch(f.setConfirmInfo({show:!1}));break}case c.EVENT_SVR_WINDOW_CLI_PORT_UPDATE:{b[c.CLI_PORT]&&k.set(c.CLI_PORT,b[c.CLI_PORT]);break}case c.CHANGE_LOCALE:{h.getSourceLocale()!==b.locale&&h.setLocale(b.locale);break}case c.COMMAND_DEV_WINDOW_CLOSE_ALL:{d.dispatch(e.closeProject());break}case c.EVENT_DEV_WINDOW_CLOSE:{b.id!==global.devInfo.projectid&&(g.removeListener(),g.addListener());break}}}const b=require('events'),c=require('./09060286633d09fb81fefc8ff1294dd7.js'),d=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),e=require('./cc2c2970ff81ae4a83123e81ee123da2.js'),f=require('./1fcc6bd55b687d154a4247e57fe3011d.js'),g=require('./ffc9a3cdcc5036d1fb62a2324c72a2b0.js'),h=require('./common/locales/index.js');let i;const j=global.devInfo.id,k=new Map;module.exports={init:()=>{i=new BroadcastChannel(c.BROADCAST_CHANNEL_NAME),i.onmessage=a,i.postMessage({type:c.EVENT_DEV_WINDOW_OPENED,id:j,projectid:global.devInfo.projectid})},serverWindowInfo:k,notifyCloseWindow:(a)=>{i&&i.postMessage({type:c.EVENT_DEV_WINDOW_CLOSE,id:global.devInfo.id,projectid:global.devInfo.projectid,fromAction:a})},notifyCliPortUpdate:(a)=>{i&&i.postMessage({type:c.EVENT_DEV_WINDOW_CLI_PORT_UPDATE,id:global.devInfo.id,projectid:global.devInfo.projectid,[c.CLI_PORT]:a})},notifyChangeLocale:(a)=>{i&&i.postMessage({type:c.CHANGE_LOCALE,locale:a})}}}(require('lazyload'),require);