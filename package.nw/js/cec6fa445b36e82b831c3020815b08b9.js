;!function(require, directRequire){;'use strict';const _=require('lodash'),{REHYDRATE}=require('redux-persist/constants'),actions=require('./0634ee2ebd3e560d9d4804ecc960160f.js'),C=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),ls=require('./84858de8a097c9cf84ff2c2e3d86e2a9.js');function getInitialState(){return{pluginPopup:{},mainWindow:C.MAIN_WINDOW_TYPE.LOGIN,focus:C.WINDOW_FOCUS.BODY,moveToCenter:Date.now(),entrance:{tab:'miniprogram',miniprogram:{mode:'select',options:{}},minigame:{mode:'select',options:{}},minicode:{mode:'select',options:{}}},tcbLoading:{confirmText:'\u786E\u5B9A',cancelText:'\u53D6\u6D88',showLoading:!1,showConfirm:!0,showCancel:!0,show:!1},tcbActionConfirmInfo:{show:!1,type:'error',title:'',content:'',showConfirm:!0,showCancel:!0,confirmText:'\u786E\u5B9A',cancelText:'\u53D6\u6D88',callback:void 0},multiAccountBox:{show:!1},additionLogin:{show:!1},about:{show:!1},toolbar:{show:!0},debug:{show:!0,popup:!1,height:100},simulator:{show:!0,popup:!1,position:'left',width:500},customCompile:{show:'none',id:-1},editor:{show:!0,fileTreeShow:!0,popup:!1},toolbarConfig:{show:!1},notice:{show:!0,list:[]},progressDialog:{show:!1},cloud:{console:{show:!1},fnaction:{show:!1},scfdebug:{show:!1}},qcloud:{deployShow:!1,uploadShow:!1,uploadIDCShow:!1,actionType:{deployDev:{ts:Date.now(),options:{}},installDependence:{ts:Date.now(),options:{}},restartService:{ts:Date.now(),options:{}}},info:{uploadSuccessTime:0,deploySuccessTime:0,installSuccessTime:0,restartSuccessTime:0},uploading:{show:!1,status:void 0,content:'',descList:[],estimateTime:void 0}},projectManagement:{show:!1},remoteDebugWindow:{show:!1,debuggingProjectId:null,inspectUrl:'about:blank',usingLocalStorage:!0,disableUrlCheck:!0,noMaps:!1},qcloudDebugWindow:{show:!1,inspectUrl:'about:blank'},selectProjectOptions:{tab:C.SELECT_PROJECT_TAB.MINI_PROGRAM},miniCodeOptions:{},windowStatus:{mode:C.WINDOW_MODE.FULLSCREEN,position:{},mini:!1},mask:{show:!1},popup:getPopupInitialState()}}function getPopupInitialState(){return{customAnalysis:{show:!1},mobileTest:{show:!1},selectProject:{show:!1},createProject:{show:!1},createMiniCode:{show:!1}}}module.exports=function(a=getInitialState(),b={}){switch(b.type){case actions.USER_LOGIN_EXPIRED:return a.mainWindow!==C.MAIN_WINDOW_TYPE.DEV&&a.mainWindow!==C.MAIN_WINDOW_TYPE.WEB_DEBUGGER?Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.LOGIN}):a;case actions.USER_REMOVE_INFO:return Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.LOGIN});case actions.LOGIN_AND_GOTO:return Object.assign({},a,{mainWindow:b.goto});case actions.WINDOW_RECORD_FOCUS:return a.focus===b.focus?a:Object.assign({},a,{focus:b.focus});case actions.WINDOW_SET_MAIN_WINDOW:return Object.assign({},a,{mainWindow:b.mainWindow});case actions.WINDOW_SET_ENTRANCE:return Object.assign({},a,{entrance:_.merge({},a.entrance,b.data)});case actions.PROJECT_SELECT_PROJECT_REQUEST:return a.mainWindow===C.MAIN_WINDOW_TYPE.DEV?a:Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.SELECT_PROJECT,selectProjectOptions:Object.assign({},a.selectProjectOptions,b.options)});case actions.PROJECT_CREATE_PROJECT_REQUEST:return a.mainWindow===C.MAIN_WINDOW_TYPE.DEV?Object.assign({},a,{create_project_popup:!0}):Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.CREATE_PROJECT});case actions.PROJECT_CREATE_MINICODE_REQUEST:{const c=Object.assign({},a,{mainWindow:'create'===b.createType?C.MAIN_WINDOW_TYPE.CREATE_MINICODE:C.MAIN_WINDOW_TYPE.IMPORT_MINICODE});return b.options&&(c.miniCodeOptions=b.options),c}case actions.WINDOW_CLEAR_MINICODE_OPTIONS:return Object.assign({},a,{miniCodeOptions:{}});case actions.PROJECT_OPEN_PROJECT:return Object.assign({},a,{popup:getPopupInitialState(),mainWindow:C.MAIN_WINDOW_TYPE.DEV});case actions.PROJECT_CLOSE_PROJECT:return Object.assign({},a,{moveToCenter:Date.now(),mainWindow:C.MAIN_WINDOW_TYPE.SELECT_PROJECT,remoteDebugWindow:Object.assign({},a.remoteDebugWindow||{},{show:!1}),qcloudDebugWindow:Object.assign({},a.qcloudDebugWindow||{},{show:!1})});case actions.PROJECT_SELECT_PROJECT_CANCEL:return a.mainWindow===C.MAIN_WINDOW_TYPE.SELECT_PROJECT?Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.ENTRANCE}):a;case actions.PROJECT_SELECT_PROJECT_OPEN:return a.popup.selectProject&&!a.popup.selectProject.show?Object.assign({},a,{popup:Object.assign({},a.popup,{selectProject:{show:!0}})}):a;case actions.PROJECT_SELECT_PROJECT_CLOSE:return a.popup.selectProject&&a.popup.selectProject.show?Object.assign({},a,{popup:Object.assign({},a.popup,{selectProject:{show:!1}})}):a;case actions.PROJECT_CREATE_PROJECT_OPEN:return a.popup.createProject&&!a.popup.createProject.show?Object.assign({},a,{popup:Object.assign({},a.popup,{createProject:{show:!0}})}):a;case actions.PROJECT_CREATE_PROJECT_CLOSE:return a.popup.createProject&&a.popup.createProject.show?Object.assign({},a,{popup:Object.assign({},a.popup,{createProject:{show:!1}})}):a;case actions.PROJECT_CREATE_PROJECT_CANCEL:return a.mainWindow===C.MAIN_WINDOW_TYPE.CREATE_PROJECT?Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.SELECT_PROJECT}):a;case actions.PROJECT_CREATE_MINICODE_OPEN:return a.popup.createMiniCode&&!a.popup.createMiniCode.show?Object.assign({},a,{popup:Object.assign({},a.popup,{createMiniCode:{show:!0,type:b.createType}})}):a;case actions.PROJECT_CREATE_MINICODE_CLOSE:return a.popup.createMiniCode&&a.popup.createMiniCode.show?Object.assign({},a,{popup:Object.assign({},a.popup,{createMiniCode:{show:!1}})}):a;case actions.PROJECT_CREATE_MINICODE_CANCEL:return a.mainWindow===C.MAIN_WINDOW_TYPE.CREATE_MINICODE||a.mainWindow===C.MAIN_WINDOW_TYPE.IMPORT_MINICODE?Object.assign({},a,{mainWindow:C.MAIN_WINDOW_TYPE.SELECT_PROJECT}):a;case actions.WINDOW_MAXIMIZE:return Object.assign({},a,{windowStatus:{mode:C.WINDOW_MODE.MAX}});case actions.WINDOW_MINIMIZE:return Object.assign({},a,{windowStatus:{mode:C.WINDOW_MODE.MIN}});case actions.WINDOW_FULLSCREEN:return Object.assign({},a,{windowStatus:{mode:C.WINDOW_MODE.FULLSCREEN}});case actions.WINDOW_RESIZE:return Object.assign({},a,{windowStatus:{mode:C.WINDOW_MODE.FREE,position:Object.assign({},a.windowStatus.position,b.position)}});case actions.WINDOW_SET_ABOUT:return Object.assign({},a,{about:Object.assign({},a.about,b.data)});case actions.WINDOW_SET_DEBUGGER:return Object.assign({},a,{debug:Object.assign({},a.debug,b.data)});case actions.WINDOW_TOGGLE_DEBUGGER:{const b={};return b.show=!a.debug.show,a.debug.popup&&(b.show=!0,b.popup=!1),Object.assign({},a,{debug:Object.assign({},a.debug,b)})}case actions.WINDOW_TOGGLE_MINI_MODE:return Object.assign({},a,{windowStatus:Object.assign({},a.windowStatus,{mini:!a.windowStatus.mini})});case actions.WINDOW_SET_SIMULATOR:return Object.assign({},a,{simulator:Object.assign({},a.simulator,b.data)});case actions.WINDOW_TOGGLE_SIMULATOR:{const b={};return b.show=!a.simulator.show,a.simulator.popup&&(b.show=!0,b.popup=!1),Object.assign({},a,{simulator:Object.assign({},a.simulator,b)})}case actions.WINDOW_TOGGLE_SIMULATOR_POSITION:return Object.assign({},a,{simulator:Object.assign({},a.simulator,{position:'left'===a.simulator.position?'right':'left'})});case actions.WINDOW_SET_SIMULATOR_POPUP:return Object.assign({},a,{simulator:Object.assign({},a.simulator,{popup:b.popup})});case actions.WINDOW_SET_SIMULATOR_POSITION:return Object.assign({},a,{simulator:Object.assign({},a.simulator,{popup:!1,position:b.position})});case b.WINDOW_TOGGLE_DEBUGGER_POPUP:return Object.assign({},a,{debug:Object.assign({},a.debug,{popup:!a.debug.popup})});case actions.WINDOW_TOGGLE_EDITOR:{const b=a.debug.show,c=a.simulator.show;let d=!a.editor.show;if(!b&&!c)d=!0;else{const b=a.debug.popup,c=a.simulator.popup;b&&c&&(d=!0)}return Object.assign({},a,{editor:Object.assign({},a.editor,{show:d})})}case actions.WINDOW_TOGGLE_TOOLBAR:return Object.assign({},a,{toolbar:{show:!a.toolbar.show}});case actions.WINDOW_SET_MASK:return Object.assign({},a,{mask:{show:b.show,type:b.maskType}});case actions.WINDOW_SET_CUSTOMCOMPILE:return Object.assign({},a,{customCompile:Object.assign({},a.customCompile,b.data)});case actions.WINDOW_SET_CLOUD:return Object.assign({},a,{cloud:Object.assign({},a.cloud,b.data)});case actions.WINDOW_SET_QCLOUD:return Object.assign({},a,{qcloud:Object.assign({},a.qcloud,b.data,{uploading:Object.assign({},a.qcloud.uploading,b.data.uploading)})});case actions.WINDOW_SET_QCLOUD_ACTION:return Object.assign({},a,{qcloud:Object.assign({},a.qcloud,{actionType:Object.assign({},a.qcloud.actionType,{[b.data.actionType]:{ts:Date.now(),options:b.data.options}})})});case actions.WINDOW_SET_EDITOR:return Object.assign({},a,{editor:Object.assign({},a.editor,b.data)});case actions.WINDOW_SET_PROJECT_MANAGEMENT:return Object.assign({},a,{projectManagement:Object.assign({},a.projectManagement,b.data)});case actions.WINDOW_SET_REMOTE_DEBUG_WINDOW:return Object.assign({},a,{remoteDebugWindow:Object.assign({},a.remoteDebugWindow,b.data)});case actions.WINDOW_SET_QCLOUD_DEBUG_WINDOW:return Object.assign({},a,{qcloudDebugWindow:Object.assign({},a.qcloudDebugWindow,b.data)});case actions.INFO_OPEN_EDITOR_FILE:return Object.assign({},a,{editor:Object.assign({},a.editor,{show:!0})});case actions.WINDOW_SYNC_STORE:{let c=Object.assign({},a);return c=_.merge(c,b.data.window),c}case actions.WINDOW_TOOLBAR_CONFIG:return Object.assign({},a,{toolbarConfig:Object.assign({},b.data)});case actions.WINDOW_SET_MULTI_ACCOUNT:return Object.assign({},a,{multiAccountBox:Object.assign({},a.multiAccountBox,b.data)});case actions.WINDOW_SET_ADDITION_LOGIN:return Object.assign({},a,{additionLogin:Object.assign({},a.additionLogin,b.data)});case actions.WINDOW_SET_PLUGIN_POPUP:return Object.assign({},a,{pluginPopup:Object.assign({},a.pluginPopup,{[b.data.pluginId]:b.data.show})});case actions.TCB_SET_LOADING:return Object.assign({},a,{tcbLoading:Object.assign({},a.tcbLoading,b.data)});case actions.TCB_SCF_INFO:return Object.assign({},a,{tcbActionConfirmInfo:Object.assign({},a.tcbActionConfirmInfo,b.data)});case actions.INFO_SHOW_SUCCESS:return Object.assign({},a,{notice:Object.assign({},a.notice,{list:[...a.notice.list,...[{id:`success-tip-${+new Date}-${Math.random()}`,name:b.data,icon:'success',type:'toast',combinable:!1,toast:!0,toastDuration:1500,hideCloseButton:!0}]]})});case actions.WINDOW_ADD_NOTICES:return Object.assign({},a,{notice:Object.assign({},a.notice,{list:[...a.notice.list,...b.list]})});case actions.WINDOW_REMOVE_NOTICES:{const c=new Set(b.list),d=a.notice.list.filter((a)=>!c.has(a.id));return Object.assign({},a,{notice:Object.assign({},a.notice,{list:d})})}case actions.WINDOW_SET_PROGRESS_DIALOG:return Object.assign({},a,{progressDialog:Object.assign({},a.progressDialog,b.data)});case REHYDRATE:{const c=global.devInfo&&global.devInfo.projectid?ls.getWindowForProject(global.devInfo.projectid):null,d=_.merge(_.cloneDeep(a),Object.assign({},b.payload.window,c));global.isDevWindow||((d.remoteDebugWindow||{}).debuggingProjectId=null),(d.remoteDebugWindow||{}).show=!1,(d.qcloudDebugWindow||{}).show=!1;let e;const f=d||{};return f.mainWindow?(global.CLI.startedByCLI&&(f.mainWindow=C.MAIN_WINDOW_TYPE.ENTRANCE),e=f.mainWindow===C.MAIN_WINDOW_TYPE.CREATE_PROJECT||f.mainWindow===C.MAIN_WINDOW_TYPE.SELECT_PROJECT||f.mainWindow===C.MAIN_WINDOW_TYPE.CREATE_MINICODE||f.mainWindow===C.MAIN_WINDOW_TYPE.IMPORT_MINICODE?C.MAIN_WINDOW_TYPE.ENTRANCE:f.mainWindow):e=C.MAIN_WINDOW_TYPE.LOGIN,d.entrance={tab:'miniprogram',miniprogram:{mode:'select',options:{}},minigame:{mode:'select',options:{}},minicode:{mode:'select',options:{}}},global.isDevWindow?'webdebugger'===global.devType?e=C.MAIN_WINDOW_TYPE.WEB_DEBUGGER:e=C.MAIN_WINDOW_TYPE.DEV:(e===C.MAIN_WINDOW_TYPE.WEB_DEBUGGER||e===C.MAIN_WINDOW_TYPE.DEV)&&(e=C.MAIN_WINDOW_TYPE.ENTRANCE),d.focus=C.WINDOW_FOCUS.BODY,d.mask={show:!1},d.popup=a.popup,d.customCompile.show='none',d.qcloud.uploadShow=!1,d.qcloud.uploadIDCShow=!1,d.qcloud.uploading&&(d.qcloud.uploading.show=!1,d.qcloud.uploading.descList=[]),d.cloud&&(d.cloud.console={show:!1}),d.projectManagement.show=!1,d.debug.popup=!1,d.simulator.popup=!1,d.additionLogin.show=!1,d.multiAccountBox.show=!1,d.pluginPopup=a.pluginPopup,d.tcbLoading.show=!1,d.cloud.console.show=!1,d.cloud.fnaction.show=!1,d.cloud.scfdebug.show=!1,d.notice.list=[],d.progressDialog.show=!1,Object.assign({},d,{mainWindow:e})}default:return a;}};
;}(require("lazyload"), require);
