;!function(require, directRequire){;'use strict';const{connect}=require('react-redux'),React=require('react'),C=require('./56c390e04c10e91a4aa2a2c19d9a885d.js'),tools=require('./d3976cc01aeebc5b09e11c4135b6bd8d.js'),PluginPopup=require('./c5328fab361f285d2e9faf747628342c.js'),windowActions=require('./a8c87029da0fa06e986298d447ab0fe2.js'),idepluginMessager=require('./e9e3fd38aeedddd6db73d1d015ff6952.js'),locales=require('./common/locales/index.js'),topTools=require('./84b183688a46c9e2626d3e6f83365e13.js'),mapStateToProps=()=>{return{}},mapDispatchToProps=(a)=>{return{setPluginPopUpWindow:tools.bindActionCreators(windowActions.setPluginPopUpWindow,a)}};class PluginContainer extends React.Component{constructor(a){super(a),this._onPluginMessage=this.onPluginMessage.bind(this)}componentDidMount(){this.pluginMessager=idepluginMessager.get(this.props.pluginId),this.pluginMessager.register(this._onPluginMessage)}componentWillUnmount(){this.props.setPluginPopUpWindow({pluginId:this.props.pluginId,show:!1}),this.pluginMessager.unRegister(this._onPluginMessage)}onPluginMessage(){}onWindowOpen(a){this.win=a,a.on('new-win-policy',function(a,b,c){c.ignore(),nw.Shell.openExternal(b)})}onWindowClose(){this.props.setPluginPopUpWindow({pluginId:this.props.pluginId,show:!1})}render(){const a=this.props,b=a.pluginId,c=a.manifest;let d,e;try{d=1200,e=nw.Screen.screens[0].work_area.height,e>global.Win.height&&(e=global.Win.height);for(const a of nw.Screen.screens){const{work_area:{width:b,height:c}}=a;d>b&&(d=b),e>c&&(e=c)}}catch(a){d=1200,e=this.props.win?this.props.win.height:global.Win.height}const f=locales.getLocale();let g='';const i=topTools.getType(c.name);return'string'===i?g=c.name:'object'===i&&(g=c.name[f]),React.createElement(PluginPopup,{title:g,webview:!0,userAgent:`extension pluginid/${b}`,width:d,height:e,pluginId:b,registryId:`${C.WINDOW_REGISTRY.IDE_PLUGIN}_${b}`,url:c.main,onWindowOpen:this.onWindowOpen.bind(this),onWindowClose:this.onWindowClose.bind(this)})}}module.exports=connect(mapStateToProps,mapDispatchToProps)(PluginContainer);
;}(require("lazyload"), require);
