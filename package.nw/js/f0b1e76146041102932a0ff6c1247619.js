;!function(require, directRequire){;'use strict';const urlConfig=require('./0b01a3ff1572567a994a0ceae64dfef3.js'),sdkbitConfig=require('./f987f95268d39fe557441f2f9aea29e6.js'),tools=require('./84b183688a46c9e2626d3e6f83365e13.js'),request=require('./15ba1827c7f6564a45df6bd44da3a977.js');function parseURL(a){const b=/^http(s)?:\/\//;return b.test(a)?a:'http://'+a}const MM_GETA8KEY_REASON_FIRST=0,MM_GETA8KEY_REASON_GET_PERMISSION=1,MMGETA8KEY_SCENE_WXAPP=49;function bitToPurview(a){const b={},c=a.length;for(let d=0;d<c;d++)sdkbitConfig[d]&&1===parseInt(a[d],10)&&(b[sdkbitConfig[d]]=!0);return b}async function get(a){const b=parseURL(a.url),c={url:b,scene:a.isWeapp?MMGETA8KEY_SCENE_WXAPP:1,devtoolsVersion:tools.getVersionNum(),reason:a.isSync?MM_GETA8KEY_REASON_FIRST:MM_GETA8KEY_REASON_GET_PERMISSION};a.isWeapp&&(c.appid=a.appid);const{body:d}=await request({url:urlConfig.GET8KEY_URL,body:JSON.stringify(c),method:'post',needToken:1,needCheckErrCode:-1});return d.purviewFormGetA8key=d.jsapi_control_bytes?bitToPurview(d.jsapi_control_bytes):null,d}module.exports=get;
;}(require("lazyload"), require);
