;!function(require, directRequire){;"use strict";const path=require("path"),AppServiceConfig=require('./ebfcad0a5e72b6e693634486564b1394.js'),runTask=require('./41168dca39589e852da6631126d0f94d.js'),store=require('./bc78839ccca8df9e5ceeb7fae11b7be2.js'),cpus=directRequire("os").cpus().length;function isForceBackup(){let a=!0;try{a=!store.getState().settings.compiler.clusterCompile,a=a||4>=cpus}catch(b){console.error(b),a=!0}return a}async function compileJS({projectPath:d="",filename:a,sourceCode:b,showInStatus:c}){const e=path.basename(a),f=await runTask({taskName:"processJS",config:{projectPath:d,file:a,es6:"yes",sourceMaps:"map",sourceFilename:e},dataStr:b,useBackup:!0,maxTimeout:60000,forceBackup:isForceBackup(),showInStatus:c&&{text:`compiling ${a}`}});if(f.error)throw f.error;return f}function inlineSourceMap(a,b){return b?`${a}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,${new Buffer(b).toString("base64")}`:a}function wrapSourceCodeInDefine(a,b){return`define("${a.replace(/\"/g,"\\\"")}", function(require, module, exports, ${AppServiceConfig.noBrowser}){ ${b}\n});`}module.exports={compileJS,inlineSourceMap,wrapSourceCodeInDefine};
;}(require("lazyload"), require);
